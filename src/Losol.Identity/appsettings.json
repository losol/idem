{
    "IdentityServer": {
        "ConfigurationType": "InMemory", // Can be either "InMemory", or "Database"
        "KeyStore": {
            "LocalMachine": {
                "CommonName": "Losol.Identity" // TODO: use domain name here?
            }
        }
    },

    "DatabaseConfiguration": {
        "OperationalStore": {
            "EnableTokenCleanup": true,
            "TokenCleanupInterval": 3600
        }
    },

    "Twilio": {
        "From": "+15017250604",
        "Sid": "ACXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",
        "AuthToken": "auth_token"
    },

    // NOTE: when switching to DB configuration either remove "InMemoryConfiguration" section
    // or rename it to "InitialSeedData" so it would be copied into DB on the first run.

    "InMemoryConfiguration": {
        "Ids": [
            "OpenId",
            "Profile",
            "Phone"
        ],
        "Apis": [
            {
                "Id": "identity.api",
                "Name": "Identity API"
            },
            {
                "Id": "evtmgmt.api",
                "Name": "Event Management API"
            },
            {
                "Id": "test.api",
                "Name": "Test API",
                "UserClaims": [ "role", "phone_number" ]
            },
            {
                "Id": "demo.api",
                "Name": "Demo API",
                "UserClaims": [ "role", "phone_number" ]
            }
        ],
        "Clients": [
            {
                "Id": "web",
                "Name": "Web Client",
                "Url": "http://localhost",
                "RedirectPaths": [
                    "/signin-oidc"
                ],
                "AllowOfflineAccess": true,
                "Secret": "0eeec05b-12ea-4b04-bd65-1710178f38ba",
                "FrontChannelLogoutPath": "/signout-oidc",
                "PostLogoutRedirectPaths": [
                    "/signin-oidc"
                ],
                "AllowedScopes": [
                    "openid",
                    "profile",
                    "identity.api",
                    "evtmgmt.api"
                ],
                "AllowedGrantTypes": [
                    "hybrid",
                    "client_credentials",
                    "phone_number_token"
                ]
            },
            {
                "Id": "spa",
                "Name": "Single Page Application Client",
                "Url": "http://localhost",
                "RedirectPaths": [
                    "/index.html",
                    "/callback.html"
                ],
                "PostLogoutRedirectPaths": [
                    "/index.html"
                ],
                "AllowedScopes": [
                    "openid",
                    "profile",
                    "identity.api",
                    "evtmgmt.api"
                ],
                "AllowedGrantTypes": [
                    "authorization_code",
                    "phone_number_token"
                ]
            },
            {
                "Id": "test",
                "Name": "Integration Test Client",
                "Url": "http://localhost",
                "Secret": "secret",
                "AllowOfflineAccess": true,
                "UserClaims": [
                    "role",
                    "phone_number"
                ],
                "AllowedScopes": [
                    "openid",
                    "profile",
                    "test.api"
                ],
                "AllowedGrantTypes": [
                    "phone_number_token"
                ]
            },
            {
                "Id": "demo-js-client",
                "Name": "Demo JS Client",
                "Url": "http://localhost:5003",
                "UserClaims": [
                    "role",
                    "phone_number"
                ],
                "AllowedScopes": [
                    "openid",
                    "profile",
                    "demo.api"
                ],
                "AllowedGrantTypes": [
                    "phone_number_token"
                ]
            }
        ]
    }
}
